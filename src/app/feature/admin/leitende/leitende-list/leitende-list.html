<div class="admin-page">
  <div class="page-header">
    <div class="header-content">
      <h1>Leitende</h1>
      <button class="action-btn primary" routerLink="new">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
        <span>Leiter hinzufügen</span>
      </button>
    </div>
  </div>

  <div class="table-container card">
    <table class="data-table">
      <thead>
        <tr>
          <th>Bild</th>
          <th>Pfadiname</th>
          <th>Name</th>
          <th>Funktion</th>
          <th class="actions">Aktionen</th>
        </tr>
      </thead>
      <tbody>
        @for (leiter of leitende(); track leiter.id) {
          <tr class="row-hover">
            <td>
              <div class="avatar-cell">
                <img [src]="getImageUrl(leiter.bild)" [alt]="leiter.pfadiname" class="avatar-img">
              </div>
            </td>
            <td>
              <span class="pfadiname-text">{{ leiter.pfadiname }}</span>
            </td>
            <td>{{ leiter.vorname }} {{ leiter.nachname }}</td>
            <td>
              <span class="funktion-tag">{{ leiter.funktion || '-' }}</span>
            </td>
            <td class="actions">
              <div class="action-group">
                <button class="row-action-btn edit" [routerLink]="['edit', leiter.id]" aria-label="Bearbeiten">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/><path d="m15 5 4 4"/></svg>
                </button>
                <button class="row-action-btn delete" (click)="deleteLeitende(leiter.id)" aria-label="Löschen">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></svg>
                </button>
              </div>
            </td>
          </tr>
        }
        @if (leitende().length === 0) {
          <tr>
            <td colspan="5" class="empty-state">
              Keine Leitenden gefunden.
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>

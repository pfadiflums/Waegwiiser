<div class="admin-page">
  <div class="page-header">
    <div class="header-content">
      <h1>Übungen</h1>
      <p>Hier kannst du alle Übungen verwalten.</p>
    </div>
    <div class="header-actions">
      <a routerLink="new" class="action-btn primary">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
        <span>Neue Übung</span>
      </a>
    </div>
  </div>

  <div class="data-section">
    <div class="table-container">
      <table class="data-table">
        <thead>
          <tr>
            <th>Datum</th>
            <th>Aktivität / Motto</th>
            <th>Stufen</th>
            <th class="actions">Aktionen</th>
          </tr>
        </thead>
        <tbody>
          @for (item of uebungen(); track item.id) {
            <tr class="row-hover">
              <td>
                <div class="date-badge">
                  <span class="day">{{ formatDate(item.datum).day }}</span>
                  <span class="month">{{ formatDate(item.datum).month }}</span>
                </div>
              </td>
              <td>
                <div class="motto-cell">
                  <span class="motto-text">{{ item.motto }}</span>
                  <span class="motto-sub">{{ item.antretenOrt || 'Besammlung' }}</span>
                </div>
              </td>
              <td>
                <div class="stufen-tags">
                  @for (stufe of item.stufen; track stufe) {
                    <span class="stufe-tag">
                      {{ getStufeName(stufe) }}
                    </span>
                  }
                </div>
              </td>
              <td class="actions">
                <div class="action-group">
                  <a [routerLink]="['edit', item.id]" class="row-action-btn edit" aria-label="Bearbeiten">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/><path d="m15 5 4 4"/></svg>
                  </a>
                  <button (click)="deleteUebung(item.id)" class="row-action-btn delete" aria-label="Löschen">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></svg>
                  </button>
                </div>
              </td>
            </tr>
          } @empty {
            <tr>
              <td colspan="4" class="empty-state">
                Keine Übungen gefunden. Erstelle eine neue Übung!
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
</div>

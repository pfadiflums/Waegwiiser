<div class="admin-page">
  <div class="page-header">
    <div class="header-content">
      <h1>Downloads</h1>
      <button class="action-btn primary" routerLink="new">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
        <span>Download hinzufügen</span>
      </button>
    </div>
  </div>

  <div class="table-container card">
    <table class="data-table">
      <thead>
        <tr>
          <th>Titel</th>
          <th>Kategorie</th>
          <th>Typ</th>
          <th class="actions">Aktionen</th>
        </tr>
      </thead>
      <tbody>
        @for (item of downloads(); track item.id) {
          <tr class="row-hover">
            <td>
              <span class="title-text">{{ item.titel }}</span>
            </td>
            <td>
              <span class="category-tag">{{ item.kategorie || 'Sonstiges' }}</span>
            </td>
            <td>
              <span class="type-icon">
                @if (item.typ === 'file') {
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/></svg>
                  Datei
                } @else {
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>
                  Link
                }
              </span>
            </td>
            <td class="actions">
              <div class="action-group">
                <button class="row-action-btn edit" [routerLink]="['edit', item.id]" aria-label="Bearbeiten">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/><path d="m15 5 4 4"/></svg>
                </button>
                <button class="row-action-btn delete" (click)="deleteDownload(item.id)" aria-label="Löschen">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></svg>
                </button>
              </div>
            </td>
          </tr>
        }
        @if (downloads().length === 0) {
          <tr>
            <td colspan="4" class="empty-state">
              Keine Downloads gefunden.
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>
